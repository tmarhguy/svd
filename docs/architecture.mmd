graph TD
  subgraph "Browser (Client)"
    UI["React/Next.js UI (App Router)"]
    CMP["Components (Matrix, Writeup, Controls)"]
    CANVAS["Canvas API (decode/sample/render)"]
    WW["Web Workers (svdWorker.ts)"]
    SVDCORE["SVD Core (svdCore.ts)"]
    SVDCOMP["Compression Orchestration (svdCompression.ts)"]
    ASSETS["Public Assets (ghanaimage.jpg, ghanaimage-svd-data.json)"]
  end

  subgraph "Server/Hosting"
    NEXT["Next.js Static Server (next start)"]
    HOST["Hosting (Vercel or Node)"]
  end

  UI --> CMP
  CMP -->|user actions| SVDCOMP
  SVDCOMP -->|spawn| WW
  WW -->|compute SVD / reconstruct| SVDCORE
  WW -->|postMessage results| SVDCOMP
  SVDCOMP -->|ImageData/data URL| CANVAS
  SVDCOMP -->|fetch| ASSETS

  NEXT -->|serve static| ASSETS
  HOST --> NEXT

  style UI stroke-dasharray: 3 3
  style WW stroke-dasharray: 3 3
